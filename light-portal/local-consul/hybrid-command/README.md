### Light Portal Hybrid Command Server

This is the [light-hybrid-4j](https://github.com/networknt/light-hybrid-4j)
server generated by [light-codegen](https://github.com/networknt/light-codegen)
to host all portal command services that rely on cloud eventuate platform and
database.

Please note that we only use the generator once and will maintain hybrid-command
server module manually afterward. There are some changes that cannot be override
with the light-codegen.

The config.json can be found in [model-config](https://github.com/networknt/model-config)
repo at https://github.com/networknt/model-config/tree/master/hybrid/portal-server


The command to generate the server:

```
cd ~/networknt/light-codegen
java -jar codegen-cli/target/codegen-cli.jar -f light-hybrid-4j-server -o ~/networknt/light-portal/hybrid-server -c ~/networknt/model-config/hybrid/portal-server/config.json
```

Please note that you have to checkout [model-config](https://github.com/networknt/model-config)
and [light-portal](https://github.com/networknt/light-portal) in the same workspace
networknt. And make sure you run the command in [light-codegen](https://github.com/networknt/light-codegen)
folder in the same workspace. Above command assume that the workspace is ~/networknt


### Start server

For light-portal, we put all light-hybrid-4j command services into parent service folder
as a list of jar files. When we start the light-hybrid-4j server, we need to include
these jars in the classpath.

If you are developing hybrid services for light-portal, you should use the test server
in test folder to test your service locally. If you do want to run your service with
this server, please make sure that you copy the service jar file into service folder.

The following command line to start the server with all the services in service
folder. The command line should be executed in the folder that contains this README.md

```
cd ~/networknt/light-config-test/light-portal/hybrid-command/cloud/
cp ~/networknt/light-portal/docker/hybrid-command/service/*.jar ../service
java -Dlight-4j-config-dir=./config -Dlogback.configurationFile=./config/logback.xml -cp ~/networknt/light-portal/hybrid-command/target/hybrid-command-1.0.0.jar:../service/* com.networknt.server.Server
```



If there are any service injections needed for your service, you need to update service.yml
to add these services before starting the command line.

### Test
