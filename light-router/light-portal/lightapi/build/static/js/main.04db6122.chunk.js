(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{174:function(e){e.exports={longLivedTokenForm:{formId:"longLivedTokenForm",actions:[{host:"lightapi.net",service:"playground",action:"generateJwt",version:"0.1.0",title:"Generate Long-Lived Token",success:"/playground/longLivedToken"}],schema:{type:"object",required:["client_id","scope"],title:"JWT Claims",properties:{exp:{type:"integer"},client_id:{type:"string"},user_id:{type:"string"},scope:{type:"array",items:{type:"string"}}}},form:["*"]}}},299:function(e){e.exports=[{depth:0,children:[],_styles:{root:{paddingLeft:-16,backgroundColor:null,height:"48px",cursor:"pointer",color:"rgba(0,0,0,0.87)",overflow:"hidden",transform:"translateZ(0)"}},_shouldRender:!1},{title:"OAuth",depth:1,parentIndex:0,children:[2,5],disabled:!1},{title:"PlayGround",depth:2,children:[3,4],parentIndex:1,disabled:!1},{title:"Long-lived Token",depth:3,parentIndex:2,disabled:!1,link:"/form/longLivedTokenForm"},{title:"Client Registration",depth:3,parentIndex:2,disabled:!1,link:"/test/client/register"},{title:"Production",depth:2,children:[6,7],disabled:!1,parentIndex:1},{title:"Client Registration",depth:3,parentIndex:5,disabled:!1,link:"/prod/client/register"},{title:"Service Registration",depth:3,parentIndex:5,disabled:!1,link:"/prod/service/register"},{title:"MarketPlace",depth:1,parentIndex:0,disabled:!1,children:[9,12]},{title:"REST",depth:2,parentIndex:8,disabled:!1,children:[10,11]},{title:"API List",depth:3,parentIndex:9,disabled:!1,link:"/rest/list"},{title:"Register",depth:3,parentIndex:9,disabled:!1,link:"/rest/register"},{title:"Hybrid",depth:2,parentIndex:8,disabled:!1,children:[13,14]},{title:"API List",parentIndex:12,depth:3,disabled:!0,link:"/hybrid/list"},{title:"Register",parentIndex:12,depth:3,disabled:!0,link:"/hybrid/register"},{title:"About",depth:1,parentIndex:0,disabled:!1,link:"/about"}]},309:function(e,t,n){e.exports=n(647)},318:function(e,t,n){},647:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(22),s=n.n(i),o=n(16),l=n(308),c=n(55),p=n(123),d="SUBMIT_FORM_STARTED",m="SUBMIT_FORM_SUCCESS",h="SUBMIT_FORM_FAILURE",u={},b=Object(c.c)({menu:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return(arguments.length>1?arguments[1]:void 0).type,e},form:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:return Object(p.a)({},e,{fetching:!1,result:t.payload});case h:return Object(p.a)({},e,{fetching:!1,error:t.payload});case d:return Object(p.a)({},e,{fetching:!0});default:return e}}}),f=n(295),g=n(296),v=n.n(g),O=(n(318),n(26)),y=n(27),j=n(29),E=n(28),I=n(30),k=n(652),x=n(650),T=n(649),w=n(297),L=n.n(w),S=function(e){function t(){return Object(O.a)(this,t),Object(j.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(I.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,"Home")}}]),t}(a.Component),C=function(e){function t(){return Object(O.a)(this,t),Object(j.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(I.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,"About")}}]),t}(a.Component),_=n(70),M=n(653),R=n(298),B=n(85),P=n.n(B),N=n(116),F=n.n(N),D=n(82),U=n.n(D),W=n(117),J=n.n(W),H=n(23),G=n.n(H),K=n(44),Z=n.n(K),q=n(86),V=n.n(q),$=n(304),z=n.n($),Q=n(299),X=n(87),Y=n(2),A=n.n(Y),ee=n(651),te=n(71),ne=n(300),ae=n.n(ne),re=n(301),ie=n.n(re),se=n(302),oe=n.n(se),le=n(303),ce=n.n(le),pe=function(e){function t(e){var n;return Object(O.a)(this,t),(n=Object(j.a)(this,Object(E.a)(t).call(this,e))).state={expandedListItems:[],activeListItem:null},n.handleTouchTap=n.handleTouchTap.bind(Object(X.a)(Object(X.a)(n))),n}return Object(I.a)(t,e),Object(y.a)(t,[{key:"handleTouchTap",value:function(e,t){if(e.children){var n=this.state.expandedListItems.indexOf(t);if(-1===n)this.setState({expandedListItems:this.state.expandedListItems.concat([t])});else{var a=[].concat(this.state.expandedListItems);a.splice(n,1),this.setState({expandedListItems:a})}}else this.setState({activeListItem:t})}},{key:"render",value:function(){var e=this,t=this.props,n=t.children,a=t.listItems,i=t.contentKey,s=this.props.style?this.props.style:{},o=this.props.startingDepth?this.props.startingDepth:1,l=this.props.expandedListItems?this.props.expandedListItems:this.state.expandedListItems,c=this.props.activeListItem?this.props.activeListItem:this.state.activeListItem,p=this.props.listHeight?this.props.listHeight:"48px",d=a.map(function(e,t,n){return e._styles={root:{paddingLeft:16*(e.depth-o),backgroundColor:c===t?"rgba(0,0,0,0.2)":null,height:p,cursor:e.disabled?"not-allowed":"pointer",color:e.disabled?"rgba(0,0,0,0.4)":"rgba(0,0,0,0.87)",overflow:"hidden",transform:"translateZ(0)"}},e}),m=(d=d.map(function(e,t){return e._shouldRender=e.depth>=o&&function e(t){if(t.depth>o){if(-1===l.indexOf(t.parentIndex))return!1;var n=a.filter(function(e,n){return n===t.parentIndex})[0];return e(n)}return!0}(e),e._primaryText=e[i],e})).map(function(t,n){if(t._shouldRender){var a={key:"treeListItem-"+n,style:t._styles.root};return t.link&&(a.component=ee.a,a.to=t.link),r.a.createElement(te.ListItem,Object.assign({},a,{onClick:function(){t.disabled||e.handleTouchTap(t,n)},button:!0}),r.a.createElement(te.ListItemIcon,null,function(e,t){return t?e.children?r.a.createElement(oe.a,null):r.a.createElement(ce.a,null):e.icon}(t,e.props.useFolderIcons)),r.a.createElement(te.ListItemText,{primary:t._primaryText}),t.children?-1===l.indexOf(n)?r.a.createElement(ae.a,null):r.a.createElement(ie.a,null):null)}return null}),h={root:{padding:0,paddingBottom:8,paddingTop:n?0:8}};return r.a.createElement("div",{style:Object.assign({},h.root,s)},n,r.a.createElement(te.List,null,m))}}]),t}(r.a.Component);pe.contextTypes={muiTheme:A.a.object};var de=pe,me=function(e){function t(){var e,n;Object(O.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(j.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).state={mobileOpen:!1,expandedListItems:[],listItems:Q},n.handleDrawerToggle=function(){n.setState(function(e){return{mobileOpen:!e.mobileOpen}})},n}return Object(I.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this.state.listItems,t=this.props,n=t.classes,a=t.children,i=t.theme,s=r.a.createElement(de,{listItems:e,contentKey:"title",useFolderIcons:!0}),o=r.a.createElement("div",null,r.a.createElement("div",{className:n.toolbar}),s);return r.a.createElement("div",{className:n.root},r.a.createElement(J.a,null),r.a.createElement(F.a,{position:"fixed",className:n.appBar},r.a.createElement(U.a,null,r.a.createElement(Z.a,{color:"inherit","aria-label":"Open drawer",onClick:this.handleDrawerToggle,className:n.menuButton},r.a.createElement(z.a,null)),r.a.createElement(G.a,{variant:"h6",color:"inherit",noWrap:!0},"API Portal"))),r.a.createElement("nav",{className:n.drawer},r.a.createElement(V.a,{smUp:!0,implementation:"css"},r.a.createElement(P.a,{container:this.props.container,variant:"temporary",anchor:"rtl"===i.direction?"right":"left",open:this.state.mobileOpen,onClose:this.handleDrawerToggle,classes:{paper:n.drawerPaper},ModalProps:{keepMounted:!0}},o)),r.a.createElement(V.a,{xsDown:!0,implementation:"css"},r.a.createElement(P.a,{classes:{paper:n.drawerPaper},variant:"permanent",open:!0},o))),r.a.createElement("main",{className:n.content},r.a.createElement("div",{className:n.toolbar}),a))}}]),t}(a.Component),he=Object(R.a)(M.a,Object(o.withStyles)(function(e){return{root:{display:"flex"},drawer:Object(_.a)({},e.breakpoints.up("sm"),{width:300,flexShrink:0}),appBar:Object(_.a)({marginLeft:300},e.breakpoints.up("sm"),{width:"calc(100% - ".concat(300,"px)")}),menuButton:Object(_.a)({marginRight:20},e.breakpoints.up("sm"),{display:"none"}),toolbar:e.mixins.toolbar,drawerPaper:{width:300},content:{flexGrow:1,padding:3*e.spacing.unit}}},{withTheme:!0}))(me),ue=n(173),be=n.n(ue),fe=n(306);var ge=n(118),ve=n(84),Oe=n.n(ve),ye=n(43),je=n.n(ye),Ee=n(307),Ie=n.n(Ee),ke=n(45),xe=n.n(ke),Te=n(174),we=function(e){function t(e){var n;return Object(O.a)(this,t),(n=Object(j.a)(this,Object(E.a)(t).call(this,e))).onModelChange=function(e,t){xe.a.selectOrSet(e,n.state.model,t)},n.state={fetching:!1,error:null,formId:null,schema:null,form:null,actions:null,model:{}},n}return Object(I.a)(t,e),Object(y.a)(t,[{key:"componentWillUpdate",value:function(e,t,n){if(this.state.formId!==e.match.params.formId){var a=Te[this.props.match.params.formId];this.setState({formId:e.match.params.formId,schema:a.schema,form:a.form,actions:a.actions,model:a.model||{}})}}},{key:"componentDidMount",value:function(){var e=Te[this.props.match.params.formId];this.setState({formId:this.props.match.params.formId,schema:e.schema,form:e.form,actions:e.actions,model:e.model||{}})}},{key:"onButtonClick",value:function(e){console.log(e,this.state.model);var t=xe.a.validateBySchema(this.state.schema,this.state.model);t.valid?(e.data=this.state.model,this.setState({success:e.success,fetching:!0}),this.props.submitForm(e)):this.setState({error:t.error.message})}},{key:"render",value:function(){var e=this,t=this.props.classes;if(this.state.schema){var n,a=[];this.state.actions.map(function(n,i){var s=e.onButtonClick.bind(e,n);a.push(r.a.createElement(je.a,{variant:"contained",className:t.button,color:"primary",key:i,onClick:s},n.title))}),n=this.state.fetching?r.a.createElement("div",null,r.a.createElement(Oe.a,{className:t.progress})):r.a.createElement("div",null);var i=r.a.createElement("h2",null,this.state.schema.title);return r.a.createElement("div",null,n,i,r.a.createElement(Ie.a,{schema:this.state.schema,form:this.state.form,model:this.state.model,onModelChange:this.onModelChange}),r.a.createElement("pre",null,this.state.error),a)}return r.a.createElement(Oe.a,{className:t.progress})}}]),t}(a.Component),Le=Object(ge.a)(function(e){return{}},function(e){return{submitForm:function(t){return e(function(e){return function(){var t=Object(fe.a)(be.a.mark(function t(n){var a,r,i;return be.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:d}),a={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)},t.prev=2,t.next=5,fetch("/api/portal",a);case 5:return r=t.sent,t.next=8,r.json();case 8:i=t.sent,n({type:m,payload:i}),Se.push(e.success),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(2),n({type:h,error:t.t0.toString()});case 16:case"end":return t.stop()}},t,this,[[2,13]])}));return function(e){return t.apply(this,arguments)}}()}(t))}}})(Object(o.withStyles)(function(e){return{root:{display:"flex",flexWrap:"wrap"},formControl:{margin:e.spacing.unit,minWidth:120},selectEmpty:{marginTop:2*e.spacing.unit},progress:{margin:2*e.spacing.unit},button:{margin:e.spacing.unit}}})(we)),Se=L()(),Ce=function(e){function t(){return Object(O.a)(this,t),Object(j.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(I.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){return r.a.createElement(T.a,{history:Se},r.a.createElement(he,null,r.a.createElement(k.a,null,r.a.createElement(x.a,{exact:!0,path:"/",component:S}),r.a.createElement(x.a,{path:"/about",component:C}),r.a.createElement(x.a,{path:"/form/:formId",component:Le}))))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var _e=Object(o.createMuiTheme)({typography:{useNextVariants:!0}}),Me=Object(c.d)(b,Object(c.a)(f.a,v.a));s.a.render(r.a.createElement(l.a,{store:Me},r.a.createElement(o.MuiThemeProvider,{theme:_e},r.a.createElement(Ce,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[309,2,1]]]);
//# sourceMappingURL=main.04db6122.chunk.js.map
